<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Varej√£o Bom Pre√ßo</title>
    <!-- Preload da imagem do banner para carregamento mais r√°pido -->
    <link rel="preload" href="img/banner-varejao.png" as="image" type="image/png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>

    <div class="mobile-container">
        <!-- Overlay para escurecer o fundo quando o menu estiver aberto -->
        <div class="overlay"></div>

        <!-- Menu Lateral (Sidenav) -->
        <nav class="sidenav">
            <div class="sidenav-header">
                <h3>Menu</h3>
                <i class="fa-solid fa-times" id="close-menu-btn"></i>
            </div>
            <a href="#" id="menu-link-inicio" class="sidenav-link"><i class="fa-solid fa-home"></i> In√≠cio</a>
            <a href="#" id="menu-link-ofertas" class="sidenav-link"><i class="fa-solid fa-tag"></i> Ofertas</a>
            <a href="#" id="menu-link-conta" class="sidenav-link"><i class="fa-solid fa-user"></i> Minha Conta</a>
        </nav>

        <header class="main-header">
            <div class="header-left">
                <i class="fa-solid fa-bars" id="open-menu-btn"></i>
            </div>
            <div class="logo">
                <img src="img/logo.svg" alt="" class="logo-icon">
            </div>
            <div class="header-icons">
                <i class="fa-solid fa-bell" id="notifications-btn" title="Notifica√ß√µes"></i>
                <i class="fa-solid fa-search" id="search-btn" title="Buscar"></i>
                <div class="cart-icon" title="Carrinho">
                    <i class="fa-solid fa-shopping-cart"></i>
                    <span class="cart-notification">3</span>
                </div>
            </div>
        </header>

        <main>
            <section class="hero-section" id="ofertas-section">
                <div class="hero-content">
                    <!-- Conte√∫do removido para focar apenas na imagem do banner -->
                </div>
            </section>

            <section class="categories">
                <div class="categories-grid">
                    <div class="category-item active-category" data-filter="all">
                        <div class="icon-bg"><i class="fa-solid fa-store"></i></div>
                        <span>Todos</span>
                    </div>
                    <div class="category-item" data-filter="frutas">
                        <div class="icon-bg"><i class="fa-solid fa-apple-whole"></i></div>
                        <span>Frutas</span>
                    </div>
                    <div class="category-item" data-filter="verduras">
                        <div class="icon-bg"><i class="fa-solid fa-leaf"></i></div>
                        <span>Verduras</span>
                    </div>
                    <div class="category-item" data-filter="legumes">
                        <div class="icon-bg"><i class="fa-solid fa-carrot"></i></div>
                        <span>Legumes</span>
                    </div>
                    <div class="category-item" data-filter="organicos">
                         <div class="icon-bg"><i class="fa-solid fa-seedling"></i></div>
                        <span>Org√¢nicos</span>
                    </div>
                    <div class="category-item" data-filter="promocoes">
                        <div class="icon-bg"><i class="fa-solid fa-tag"></i></div>
                        <span>Promo√ß√µes</span>
                    </div>
                </div>
            </section>

            <!-- SE√á√ÉO DE OFERTAS REL√ÇMPAGO -->
            <section class="flash-deals" id="ofertas-especiais" style="display: block;">
                <div class="deals-header">
                    <h2><i class="fa-solid fa-bolt"></i> OFERTAS REL√ÇMPAGO</h2>
                    <div class="countdown-timer">
                        <span>Termina em: </span>
                        <div class="timer">
                            <span id="hours">23</span>h
                            <span id="minutes">59</span>m
                            <span id="seconds">59</span>s
                        </div>
                    </div>
                </div>
                <div class="flash-deals-grid">
                    <!-- OFERTAS GARANTIDAS VIA HTML -->
                    <div class="flash-deal-item">
                        <div class="deal-badge">27% OFF</div>
                        <img src="img/products/banana-nanica.png" alt="Banana Nanica">
                        <h3>üçå Banana Nanica Premium</h3>
                        <div class="price-section">
                            <span class="current-price">R$ 3,99</span>
                            <span class="original-price">R$ 5,50</span>
                        </div>
                        <div class="deal-timer">‚è∞ Termina em: 2h 30m</div>
                        <div class="stock-info">üì¶ 150 unidades dispon√≠veis</div>
                        <button class="btn-comprar">üõí COMPRAR AGORA</button>
                    </div>
                    
                    <div class="flash-deal-item">
                        <div class="deal-badge">31% OFF</div>
                        <img src="img/products/morango.png" alt="Morango">
                        <h3>üçì Morango Premium</h3>
                        <div class="price-section">
                            <span class="current-price">R$ 8,90</span>
                            <span class="original-price">R$ 12,90</span>
                        </div>
                        <div class="deal-timer">‚è∞ Termina em: 1h 45m</div>
                        <div class="stock-info">üì¶ 75 unidades dispon√≠veis</div>
                        <button class="btn-comprar">üõí COMPRAR AGORA</button>
                    </div>
                    
                    <div class="flash-deal-item">
                        <div class="deal-badge">35% OFF</div>
                        <img src="img/products/maca-gala.png" alt="Ma√ß√£ Gala">
                        <h3>üçé Ma√ß√£ Gala Extra</h3>
                        <div class="price-section">
                            <span class="current-price">R$ 4,50</span>
                            <span class="original-price">R$ 6,90</span>
                        </div>
                        <div class="deal-timer">‚è∞ Termina em: 3h 15m</div>
                        <div class="stock-info">üì¶ 200 unidades dispon√≠veis</div>
                        <button class="btn-comprar">üõí COMPRAR AGORA</button>
                    </div>
                </div>
                <div class="deals-cta">
                    <button class="btn-ver-todas-ofertas" onclick="mostrarTodasOfertas()">Ver Todas as Ofertas <i class="fa-solid fa-arrow-right"></i></button>
                </div>
            </section>

            <section class="product-grid"></section>

            <!-- SE√á√ÉO DE RECEITAS -->
            <section class="recipes-section" id="receitas-section" style="display: none;">
                <div class="recipes-header">
                    <h2><i class="fa-solid fa-utensils"></i> Receitas Selecionadas</h2>
                    <p>Ingredientes frescos do nosso varej√£o!</p>
                </div>
                <div class="recipes-grid">
                    <!-- Receitas ser√£o inseridas aqui via JS -->
                </div>
            </section>

            <!-- SE√á√ÉO DE PERFIL -->
            <section class="profile-section" id="perfil-section" style="display: none;">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <i class="fa-solid fa-user"></i>
                    </div>
                    <h2>Meu Perfil</h2>
                </div>
                
                <div class="loyalty-program">
                    <div class="loyalty-card">
                        <h3><i class="fa-solid fa-star"></i> Programa Fidelidade</h3>
                        <div class="points-info">
                            <span class="points">1.250 pontos</span>
                            <div class="progress-bar">
                                <div class="progress" style="width: 62%"></div>
                            </div>
                            <span class="next-reward">250 pontos para pr√≥xima recompensa</span>
                        </div>
                    </div>
                </div>

                <div class="profile-menu">
                    <a href="#" class="profile-item">
                        <i class="fa-solid fa-clock"></i>
                        <span>Hist√≥rico de Compras</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </a>
                    <a href="#" class="profile-item">
                        <i class="fa-solid fa-ticket"></i>
                        <span>Meus Cupons</span>
                        <span class="badge">3</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </a>
                    <a href="#" class="profile-item">
                        <i class="fa-solid fa-heart"></i>
                        <span>Lista de Desejos</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </a>
                    <a href="#" class="profile-item">
                        <i class="fa-solid fa-location-dot"></i>
                        <span>Endere√ßos de Entrega</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </a>
                    <a href="#" class="profile-item">
                        <i class="fa-solid fa-bell"></i>
                        <span>Notifica√ß√µes</span>
                        <i class="fa-solid fa-chevron-right"></i>
                    </a>
                </div>
            </section>
        </main>

        <!-- Modal do Produto -->
        <div class="product-modal" id="product-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <button class="modal-close-btn" id="modal-close-btn">
                    <i class="fa-solid fa-times"></i>
                </button>
                
                <div class="modal-product-image">
                    <img id="modal-product-img" src="" alt="">
                </div>
                
                <div class="modal-product-details">
                    <h2 id="modal-product-name"></h2>
                    <p id="modal-product-description"></p>
                    
                    <div class="modal-price">
                        <span class="modal-current-price" id="modal-current-price"></span>
                        <span class="modal-old-price" id="modal-old-price"></span>
                    </div>
                    
                    <div class="modal-type-selector" id="modal-type-selector" style="display: none;">
                        <label for="modal-product-type">Tipo:</label>
                        <select id="modal-product-type"></select>
                    </div>
                    
                    <div class="modal-quantity-controls">
                        <label>Quantidade:</label>
                        <div class="quantity-control">
                            <button class="quantity-btn minus" id="modal-qty-minus">-</button>
                            <span class="quantity" id="modal-quantity">1</span>
                            <button class="quantity-btn plus" id="modal-qty-plus">+</button>
                        </div>
                    </div>
                    
                    <button class="modal-add-to-cart-btn" id="modal-add-to-cart">
                        <i class="fa-solid fa-shopping-cart"></i>
                        Adicionar ao Carrinho
                    </button>
                </div>
            </div>
        </div>

        <!-- Painel do Carrinho de Compras -->
        <div class="cart-panel">
            <div class="cart-header">
                <h3>Meu Carrinho</h3>
                <i class="fa-solid fa-times" id="close-cart-btn"></i>
            </div>
            <div class="cart-items">
                <!-- Itens do carrinho ser√£o inseridos aqui via JS -->
            </div>
            <div class="cart-summary">
                <div class="summary-total">
                    <span>Total:</span>
                    <span id="cart-total-price">R$ 0,00</span>
                </div>
                <button class="btn-checkout">Finalizar Compra</button>
            </div>
        </div>

        <!-- Painel de Controle de Marketing -->
        <div class="marketing-panel" id="marketing-panel">
            <div class="panel-header">
                <h2><i class="fa-solid fa-chart-line"></i> Painel de Marketing</h2>
                <i class="fa-solid fa-times" id="close-marketing-btn"></i>
            </div>
            
            <div class="marketing-content">
                <div class="marketing-tabs">
                    <button class="tab-btn active" data-tab="promotions">Promo√ß√µes</button>
                    <button class="tab-btn" data-tab="analytics">Analytics</button>
                    <button class="tab-btn" data-tab="notifications">Notifica√ß√µes</button>
                </div>

                <!-- Aba de Promo√ß√µes -->
                <div class="tab-content active" id="promotions-tab">
                    <div class="promo-creator">
                        <h3>Criar Nova Promo√ß√£o Rel√¢mpago</h3>
                        <form id="promo-form">
                            <div class="form-group">
                                <label>Produto:</label>
                                <select id="promo-product" required>
                                    <option value="">Selecione um produto</option>
                                </select>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Desconto (%):</label>
                                    <input type="number" id="promo-discount" min="5" max="70" required>
                                </div>
                                <div class="form-group">
                                    <label>Dura√ß√£o (horas):</label>
                                    <input type="number" id="promo-duration" min="1" max="48" required>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Tipo de Promo√ß√£o:</label>
                                <select id="promo-type">
                                    <option value="flash">Flash Sale</option>
                                    <option value="limited">Quantidade Limitada</option>
                                    <option value="bundle">Combo</option>
                                    <option value="loyalty">Fidelidade</option>
                                </select>
                            </div>
                            <div class="form-group" id="stock-limit-group" style="display: none;">
                                <label>Estoque Limitado (unidades):</label>
                                <input type="number" id="promo-stock" min="1">
                            </div>
                            <button type="submit" class="btn-create-promo">
                                <i class="fa-solid fa-rocket"></i> Lan√ßar Promo√ß√£o
                            </button>
                        </form>
                    </div>

                    <div class="active-promos">
                        <h3>Promo√ß√µes Ativas</h3>
                        <div class="promos-list" id="active-promos-list">
                            <!-- Promo√ß√µes ativas ser√£o listadas aqui -->
                        </div>
                    </div>
                </div>

                <!-- Aba de Analytics -->
                <div class="tab-content" id="analytics-tab">
                    <div class="analytics-dashboard">
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <i class="fa-solid fa-eye"></i>
                                <div class="metric-value" id="total-views">0</div>
                                <div class="metric-label">Visualiza√ß√µes</div>
                            </div>
                            <div class="metric-card">
                                <i class="fa-solid fa-shopping-cart"></i>
                                <div class="metric-value" id="total-conversions">0</div>
                                <div class="metric-label">Convers√µes</div>
                            </div>
                            <div class="metric-card">
                                <i class="fa-solid fa-percentage"></i>
                                <div class="metric-value" id="conversion-rate">0%</div>
                                <div class="metric-label">Taxa de Convers√£o</div>
                            </div>
                            <div class="metric-card">
                                <i class="fa-solid fa-dollar-sign"></i>
                                <div class="metric-value" id="total-revenue">R$ 0</div>
                                <div class="metric-label">Receita Gerada</div>
                            </div>
                        </div>
                        <div class="performance-chart">
                            <h4>Performance das √öltimas Promo√ß√µes</h4>
                            <canvas id="performance-chart" width="400" height="200"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Aba de Notifica√ß√µes -->
                <div class="tab-content" id="notifications-tab">
                    <div class="notification-settings">
                        <h3>Configurar Notifica√ß√µes Push</h3>
                        <div class="notification-form">
                            <div class="form-group">
                                <label>T√≠tulo da Notifica√ß√£o:</label>
                                <input type="text" id="notif-title" placeholder="üî• OFERTA REL√ÇMPAGO!">
                            </div>
                            <div class="form-group">
                                <label>Mensagem:</label>
                                <textarea id="notif-message" placeholder="N√£o perca! Desconto especial por tempo limitado!"></textarea>
                            </div>
                            <div class="form-group">
                                <label>Audi√™ncia:</label>
                                <select id="notif-audience">
                                    <option value="all">Todos os usu√°rios</option>
                                    <option value="frequent">Compradores frequentes</option>
                                    <option value="new">Novos usu√°rios</option>
                                    <option value="abandoned">Carrinho abandonado</option>
                                </select>
                            </div>
                            <button class="btn-send-notification">
                                <i class="fa-solid fa-bell"></i> Enviar Notifica√ß√£o
                            </button>
                        </div>
                        
                        <div class="notification-stats">
                            <h4>Estat√≠sticas de Notifica√ß√µes</h4>
                            <div class="stats-grid">
                                <div class="stat-item">
                                    <span class="stat-value" id="notif-sent">0</span>
                                    <span class="stat-label">Enviadas</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value" id="notif-opened">0</span>
                                    <span class="stat-label">Abertas</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-value" id="notif-clicked">0</span>
                                    <span class="stat-label">Clicadas</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Toast de Notifica√ß√£o -->
        <div class="toast-notification" id="toast-notification">
            <div class="toast-content">
                <i class="toast-icon"></i>
                <div class="toast-message"></div>
                <button class="toast-close">
                    <i class="fa-solid fa-times"></i>
                </button>
            </div>
        </div>

        <!-- Floating Action Button para Marketing -->
        <div class="fab-marketing" id="fab-marketing" title="Painel de Marketing">
            <i class="fa-solid fa-chart-line"></i>
        </div>

        <nav class="bottom-nav">
            <a href="#" class="nav-item active">
                <i class="fa-solid fa-home"></i>
                <span>In√≠cio</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fa-solid fa-th-large"></i>
                <span>Categorias</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fa-solid fa-star"></i>
                <span>Ofertas</span>
            </a>
            <a href="#" class="nav-item">
                <i class="fa-solid fa-utensils"></i>
                <span>Receitas</span>
            </a>
            <a href="#" class="nav-item" id="profile-btn">
                <i class="fa-solid fa-user"></i>
                <span>Perfil</span>
            </a>
        </nav>
    </div>

    <script src="script.js"></script>
    <script src="test-navigation.js"></script>
    <script src="debug-navigation.js"></script>
    <script src="visual-test.js"></script>
    <script src="deep-debug.js"></script>
    <script src="debug-ofertas.js"></script>
    <script src="debug-ofertas-premium.js"></script>
    <script src="teste-cliques.js"></script>
    <script src="teste-navegacao-bug.js"></script>
    <script src="solucao-direta.js"></script>
</body>
</html>